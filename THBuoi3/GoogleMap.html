<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    
    <style type="text/css">
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
      	width: 1000px;
        height: 700px;
        margin: auto;
      }

      /* Optional: Makes the sample page fill the window. */
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
      </head>
  <body style="background-color: orange">
    <h1 style="
    color: white;
    margin-left: 50px;
    margin-top: 20px;
    font-family: cursive;
    font-size: 50px;
">Web của tôi</h1>

    <div id="map"></div>
    <script>
      let map;

      function initMap() {
      	var buuDien = { lat: 10.77988673869334, lng: 106.69992030519005 };
        var vanMieuQuocTuGiam = { lat: 21.027458937497183, lng: 105.83545358501961 };
        map = new google.maps.Map(document.getElementById("map"), {
          center: buuDien,
          //zoom: 10,
        });

        //add marker
        var marker0 = new google.maps.Marker({
          position: buuDien,
          map: map,
          icon:{
            url:'1.jpg',
            scaledSize:{width:50,height:50}}
          /*title: 'Kí Túc Xá Trường Đại Học Giao Thông Vận Tải Phân Hiệu Tại Thành Phố Hồ Chí Minh'*/
          //clickable: true,
        });
        var marker1 = new google.maps.Marker({
          position: vanMieuQuocTuGiam,
          map: map,
          animation: google.maps.Animation.BOUNCE,
          //clickable: true,
         
          icon:{
            url:'2.jpg',
            scaledSize:{width:50,height:50}
          }
        });

          //add circle
        var circle = new google.maps.Circle({
          map: map,
          center: new google.maps.LatLng(10.77988673869334, 106.69992030519005),
          radius: 13000,
          strokeColor:"red",
          fillColor:"red",
        });

        

        //add triangle
        // Define the LatLng coordinates for the polygon's  outer path.
        const outerCoords = [ 
          { lat: 10.890653397937806, lng: 106.66229487731196 },
          { lat: 10.673522108597119, lng: 106.65085383422176 },
          { lat: 10.804812180015867, lng: 106.81604567961996  },
        ];

        // Define the LatLng coordinates for the polygon's inner path.
        // Note that the points forming the inner path are wound in the
        // opposite direction to those in the outer path, to form the hole.
        const innerCoords = [  
          { lat: 10.556186004491032, lng: 106.64027399984738 },
          { lat: 10.837039579014963, lng: 106.92803404428398 },
          { lat: 10.95002525227076, lng: 106.52765140365275 },
        ];

        // Construct the polygon, including both paths.
        const bermudaTriangle = new google.maps.Polygon({
          paths: outerCoords,
          strokeColor: "#FFC107",
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: "#FFC107",
          fillOpacity: 0.35,
          editable: true,
          draggable: true
        });
        bermudaTriangle.setMap(map);

        const bermudaTriangle0 = new google.maps.Polygon({
          paths: innerCoords,
          strokeColor: "#3498db",
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: "#3498db",
          fillOpacity: 0.35,
          editable: true,
          draggable: true
        });
        bermudaTriangle0.setMap(map);


        //add circle
        var circle = new google.maps.Circle({
          map: map,
          center: new google.maps.LatLng(21.027458937497183, 105.83545358501961),
          radius: 13000,
          strokeColor:"red",
          fillColor:"red",
        });

        const outerCoords1 = [  
          { lat: 21.093709811483254, lng: 106.07012505417914 },
          { lat: 21.18862430506916, lng: 105.65901458895544 },
          { lat: 20.79287580285784, lng: 105.77436315082825  },
        ];

        // Define the LatLng coordinates for the polygon's inner path.
        // Note that the points forming the inner path are wound in the
        // opposite direction to those in the outer path, to form the hole.
        const innerCoords1 = [
          { lat: 20.936392122061843, lng: 105.75720653926808 },
          { lat: 21.034794518706853, lng: 105.96029027422495 },
          { lat: 21.136800843986357, lng: 105.79118026387177 },
        ];

        // Construct the polygon, including both paths.
        const bermudaTriangle1 = new google.maps.Polygon({
          paths: outerCoords1,
          strokeColor: "#FFC107",
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: "#FFC107",
          fillOpacity: 0.35,
          editable: true,
          draggable: true
        });
        bermudaTriangle1.setMap(map);

        const bermudaTriangle2 = new google.maps.Polygon({
          paths: innerCoords1,
          strokeColor: "#3498db",
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: "#27ae60",
          fillOpacity: 0.35,
          editable: true,
          draggable: true
        });
        bermudaTriangle2.setMap(map);


        // tao info
            var infoVanMieuQuocTuGiam = "<div>Văn Miếu Quốc Tử Giám<br />Địa chỉ : 58 Quốc Tử Giám, Văn Miếu, Đống Đa, Hà Nội 100000, Việt Nam</div>";
            var infobuuDien = "<div>Bưu Điện Trung Tâm Thành Phố HCM<br />Địa chỉ : 2 Công xã Paris, Bến Nghé, Quận 1, Thành phố Hồ Chí Minh, Việt Nam</div>";

            var infobuuDien = new google.maps.InfoWindow({
                content: infobuuDien
            });
            marker0.addListener("click", () => infobuuDien.open(map, marker0));
            var infoVanMieuQuocTuGiam = new google.maps.InfoWindow({
                content: infoVanMieuQuocTuGiam
            });

            marker1.addListener("click", () => infoVanMieuQuocTuGiam.open(map, marker1));     


          var directionsService = new google.maps.DirectionsService();
            var directionsRenderer = new google.maps.DirectionsRenderer();
            directionsRenderer.setMap(map);
          // function chi duong
            function calculateAndDisplayRoute(directionsService, directionsRenderer) {
            directionsService.route(
                {
                    origin: buuDien,
                    destination: vanMieuQuocTuGiam,
                    travelMode: google.maps.TravelMode.DRIVING,
                },
                (response, status) => {
                    if (status === "OK") {
                        directionsRenderer.setDirections(response);
                    } else {window.alert("Directions request failed due to " + status);}});
        }
        calculateAndDisplayRoute(directionsService, directionsRenderer);
      }
    </script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIwzALxUPNbatRBj3Xi1Uhp0fFzwWNBkE&callback=initMap&libraries=&v=weekly"
      async></script>
  </body>
</html>
